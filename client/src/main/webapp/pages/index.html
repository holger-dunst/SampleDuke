<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- If you delete this meta tag World War Z will become a reality -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- If you are using the CSS version, only link these 2 files, you may add app.css to use for your overrides if you like -->
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/foundation.css">

    <script src="js/vendor/modernizr.js"></script>
    <style>
        .warning {
            color: red;
        }
    </style>
</head>
<body>
<!--
<ul>
    <li><a href="#/Page1">Page 1</a></li>
    <li><a href="#/Page2">Page 2</a></li>
</ul>
-->
<div data-bind="template: { name: flow().page}"></div>

<script type="text/html" id="Page1">
    <form id="productSelection" data-bind="with: productSelection">
        <fieldset>
            <legend>Choose a product</legend>
            <div class="row">
                <div class="small-8 columns">
                    <div class="row">
                        <div class="small-4 columns">
                            <label class="right"
                                   data-bind="css: { warning: $parent.bindingErrors().indexOf('produkt1')  != -1 }">Product
                                1:</label>
                        </div>
                        <div class="small-8 columns">
                            <input id="produkt1No" title="produkt1 ausgewählt" type="radio" name="produkt1Group"
                                   value="DESELECTED"
                                   data-bind="checked: produkt1"/><label for="produkt1No">No</label>
                            <input id="produkt1Yes" title="produkt1 abgewählt" type="radio" name="produkt1Group"
                                   value="SELECTED"
                                   data-bind="checked: produkt1"/><label for="produkt1Yes">Yes</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="small-8 columns">
                    <div class="row">
                        <div class="small-4 columns">
                            <label form="productSelection" class="right"
                                   data-bind="css: { warning: $parent.bindingErrors().indexOf('produkt2')  != -1 }">Product
                                2:</label>
                        </div>
                        <div class="small-8 columns">
                            <input id="produkt2No" title="produkt2 ausgewählt" type="radio" name="produkt2Group"
                                   value="DESELECTED"
                                   data-bind="checked: produkt2"/><label for="produkt2No">No</label>
                            <input id="produkt2Yes" title="produkt2 abgewählt" type="radio" name="produkt2Group"
                                   value="SELECTED"
                                   data-bind="checked: produkt2"/><label for="produkt2Yes">Yes</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="small-8 columns">
                    <div class="row">
                        <div class="small-4 columns">
                            <label form="productSelection" class="right"
                                   data-bind="css: { warning: $parent.bindingErrors().indexOf('produkt3')  != -1 }">Product
                                3:</label>
                        </div>
                        <div class="small-8 columns">
                            <input id="produkt3No" title="produkt3 ausgewählt" type="radio" name="produkt3Group"
                                   value="DESELECTED"
                                   data-bind="checked: produkt3"/><label for="produkt3No">No</label>
                            <input id="produkt3Yes" title="produkt3 abgewählt" type="radio" name="produkt3Group"
                                   value="SELECTED"
                                   data-bind="checked: produkt3"/><label for="produkt3Yes">Yes</label>
                        </div>
                    </div>
                </div>
            </div>
            <br>

            <div data-bind="text: $parent.errorCode"></div>
            <div class="warning" data-bind="text: $parent.msg, visible: $parent.error"></div>
            <div class="small-2 columns">
                <button data-bind="click: $root.validate">Next</button>
            </div>
        </fieldset>
    </form>
</script>

<script type="text/html" id="Page2">
    <form data-bind="with: customer">
        <fieldset>
            <legend>Complete the following data please:</legend>
            <div class="row">
                <div class="small-8 columns">
                    <div class="row" data-bind="css: { warning: $parent.bindingErrors().indexOf('job')  != -1 }">
                        <div class="small-5 columns">
                            <label for="job" class="right">Jobdescription</label>
                        </div>
                        <div class="small-7 columns">
                            <input id="job" data-bind="textInput: job"><br>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="small-8 columns">
                    <div class="row"
                         data-bind="css: { warning: $parent.bindingErrors().indexOf('numberOfChildren')  != -1 }">
                        <div class="small-5 columns">
                            <label for="numberOfChildren" class="right">Number of children</label>
                        </div>
                        <div class="small-7 columns">
                            <input id="numberOfChildren" data-bind="textInput: anzahlKinder">
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="small-8 columns">
                    <div class="row"
                         data-bind="css: { warning: $parent.bindingErrors().indexOf('grossAnnualIncome')  != -1 }">
                        <div class="small-5 columns"
                             data-bind="css: { warning: $parent.bindingErrors().indexOf('grossAnnualIncome') != -1 }">
                            <label for="grossAnnualIncome" class="right">Gross annual income</label>
                        </div>
                        <div class="small-6 columns">
                            <input id="grossAnnualIncome"
                                   data-bind="textInput: grossAnnualIncome, enable: fieldBrutto">
                        </div>
                        <div class="small-1 columns">
                            <a href="#" class="button tiny" data-bind="click: calculateBruttoNetto">Caculate</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="small-8 columns">
                    <div class="row"
                         data-bind="css: { warning: $parent.bindingErrors().indexOf('netAnnualIncome')  != -1 }">
                        <div class="small-5 columns">
                            <label for="netAnnualIncome" class="right">Net annual income</label>
                        </div>
                        <div class="small-7 columns">
                            <input id="netAnnualIncome"
                                   data-bind="textInput: netAnnualIncome, enable: fieldNetto">
                        </div>
                        <div class="small-1 columns">
                            <a href="#" class="button tiny" data-bind="click: calculateBruttoNetto">Caculate</a>
                        </div>
                    </div>
                </div>
            </div>
            <br>

            <div class="warning" data-bind="text: $parent.msg, visible: $parent.error"></div>
            <div>
                <button data-bind="click: $parent.flow().back">Back</button>
                <button data-bind="click: $root.validate">Next</button>
            </div>
        </fieldset>
    </form>
</script>

<!-- ${browser.bootstrap} -->
<!-- body content here -->

<script src="js/vendor/jquery.js"></script>
<script src="js/foundation.min.js"></script>
<script>
    $(document).foundation();
</script>
</body>
</html>
